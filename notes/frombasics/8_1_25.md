# ASP.NET Core Application Basics

## 1ï¸âƒ£ ASP.NET Framework vs ASP.NET Core

* **ASP.NET Framework**

  * Works mainly on Windows
  * Depends on IIS
  * Older project structure

* **ASP.NET Core**

  * Open source
  * Cross-platform (Windows, Linux, macOS)
  * Can run without IIS
  * Uses a **different folder structure**

ğŸ‘‰ **ASP.NET Core applications are lightweight and modern**


## 2ï¸âƒ£ Program.cs â€“ Entry Point

* `Program.cs` is the **starting point** of the application.
* Execution always begins from here.
* Similar to `main()` function in C/C++.

**Purpose of Program.cs**

* Configure the application
* Start the web server
* Listen for browser requests

## 3ï¸âƒ£ Creating WebApplication Builder

```csharp
var builder = WebApplication.CreateBuilder(args);
```

* `CreateBuilder()` is an **inbuilt static method**
* It prepares:

  * Configuration
  * Services
  * Hosting environment

ğŸ‘‰ Builder = **Application setup object**

## 4ï¸âƒ£ Adding Services (MVC)

```csharp
builder.Services.AddControllersWithViews();
```

* Registers MVC features
* Enables:

  * Controllers
  * Views
  * Razor pages

ğŸ“Œ If a service is not added here, it **cannot be used** in the app.

## 5ï¸âƒ£ Building the Application

```csharp
var app = builder.Build();
```

* Converts setup into a **ready application**
* After this step, configuration is fixed

## 6ï¸âƒ£ Middleware Pipeline

* Middleware decides **how requests are processed**

Example:

```csharp
app.UseRouting();
app.UseAuthorization();
app.UseSession();
```

* Browser request passes through middleware **one by one**
* Each middleware performs a specific task

ğŸ‘‰ Request â†’ Middleware â†’ Controller â†’ Response

## 7ï¸âƒ£ Static Files & wwwroot

* `wwwroot` folder contains:

  * CSS
  * JavaScript
  * Images

```csharp
app.UseStaticFiles();
```

* Static files are served **directly**
* Controllers are not involved


## 8ï¸âƒ£ Routing in MVC

```csharp
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");
```

* Connects URL with controller and action
* Default URL:

  ```
  / â†’ HomeController â†’ Index()
  ```

## 9ï¸âƒ£ Starting the Application

```csharp
app.Run();
```

* Starts the web server
* Keeps application running
* Listens for incoming requests

ğŸ“Œ Without `app.Run()`, application will not start.

## ğŸ”Ÿ Kestrel Web Server

* Default web server for ASP.NET Core
* Features:

  * Fast
  * Lightweight
  * Cross-platform
  * Open source

ğŸ‘‰ Used automatically when app runs

## 1ï¸âƒ£1ï¸âƒ£ Hosting & Port Number

* Application runs on a **port number**

  * Example: `http://localhost:50186`
* Port number is shown in console output

ğŸ‘‰ Open browser + port number to access app

## 1ï¸âƒ£2ï¸âƒ£ Controllers

* Controllers handle incoming requests
* Inherit from `Controller` class

Example:

```csharp
public class HomeController : Controller
{
}
```

## 1ï¸âƒ£3ï¸âƒ£ Action Methods

* Methods inside controller
* Return `IActionResult`

Example:

```csharp
public IActionResult Index()
{
    return View();
}
```

* Each action is mapped to a URL

## 1ï¸âƒ£4ï¸âƒ£ Views (Razor Pages)

* Views are `.cshtml` files
* Located inside `Views` folder

Example:

```
Views/Home/Index.cshtml
Views/Home/Privacy.cshtml
```

* Created automatically using scaffolding

## 1ï¸âƒ£5ï¸âƒ£ Build Output

* After build:

  * Output is stored in `bin/Debug`
  * Generates executable file

ğŸ‘‰ Application can run without Visual Studio

## âœ… Summary

* `Program.cs` starts the app
* Builder configures services
* Middleware processes requests
* Controllers handle logic
* Views display output
* Kestrel hosts the application


### ğŸ¯ Student Tip

> Donâ€™t memorize code.
> **Understand the flow of request and response.**



#  Controllers, Index Action & Running ASP.NET Core App



## 1ï¸âƒ£ Default Index Action

* In ASP.NET Core MVC:

  * **Index** is the **default action method**
  * It is called automatically when no action name is provided in the URL

ğŸ“Œ Example:

```
http://localhost:5000/
â†’ HomeController â†’ Index()
```

ğŸ‘‰ This default behavior is set using **MapControllerRoute** in `Program.cs`.


## 2ï¸âƒ£ Default Route Configuration

```csharp
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");
```

* Default controller: **Home**
* Default action: **Index**

âœ… That is why `Index` loads automatically.


## 3ï¸âƒ£ Multiple Controllers in MVC

* An ASP.NET Core MVC application can have **multiple controllers**
* Examples:

  * HomeController
  * ProductsController
  * OrdersController

ğŸ“Œ Common in real applications like **E-commerce systems**


## 4ï¸âƒ£ Adding a New Controller

Steps:

1. Stop debugging the application
2. Right-click on **Controllers** folder
3. Click **Add â†’ Controller**
4. Choose **MVC Controller**
5. Name it properly (e.g., `ProductsController`)

ğŸ‘‰ This creates:

```
ProductsController.cs
```

## 5ï¸âƒ£ Example: E-commerce Controllers

Typical controllers in an E-commerce app:

* `HomeController` â†’ Landing page
* `ProductsController` â†’ Product listing
* `OrdersController` â†’ Order management

## 6ï¸âƒ£ Action Methods in Controllers

Action methods represent **operations**.

Example in `OrdersController`:

```csharp
public IActionResult CancelOrder() { }
public IActionResult ProcessOrder() { }
public IActionResult ShowOrder() { }
```

Each action:

* Handles a request
* Returns a response (usually a View)

## 7ï¸âƒ£ Views for Action Methods

* Each action method usually has a **View**
* Views are `.cshtml` files

ğŸ“‚ Folder structure:

```
Views
 â”œâ”€ Home
 â”œâ”€ Products
 â””â”€ Orders
```

ğŸ“Œ Example:

```
Views/Orders/CancelOrder.cshtml
Views/Orders/ProcessOrder.cshtml
```

## 8ï¸âƒ£ Scaffolding Process

* **Scaffolding** automatically:

  * Creates Views
  * Links Views with Action Methods
* Saves development time

ğŸ‘‰ Used when adding controllers with views.

## 9ï¸âƒ£ Changing Default Controller

* Default controller is **Home**
* If you want another controller (e.g., Products) to load by default:

```csharp
pattern: "{controller=Products}/{action=Index}/{id?}";
```

ğŸ“Œ Now:

```
http://localhost:5000/
â†’ ProductsController â†’ Index()
```

## ğŸ”Ÿ Running Application Without IIS

* ASP.NET Core does **not require IIS**
* Uses **Kestrel web server**
* Application can run as:

  * Console app
  * Self-hosted executable

## 1ï¸âƒ£1ï¸âƒ£ Using Terminal / Command Line

You can run the app using terminal:

### Build Application

```bash
dotnet build
```

* Compiles the project
* Generates DLL files

### Run Application

```bash
dotnet run
```

* Starts Kestrel server
* Shows listening URL and port

## 1ï¸âƒ£2ï¸âƒ£ .NET Version Compatibility

* Application targets a specific .NET version (e.g., **.NET 9.0**)
* Runtime must be compatible to run the app successfully

## 1ï¸âƒ£3ï¸âƒ£ Stopping the Application

* Press:

```bash
Ctrl + C
```

* Stops Kestrel server
* Terminates background process

## 1ï¸âƒ£4ï¸âƒ£ Key Learning Outcome

- âœ” Controllers handle requests
- âœ” Index is default action
- âœ” Multiple controllers supported
- âœ” Views are mapped per controller
- âœ” App runs without IIS
- âœ” Terminal commands can build & run app

## âœ… Summary

* **Index** is the default action
* Routing decides controller/action mapping
* Scaffolding speeds up development
* ASP.NET Core apps are lightweight & self-hosted
* Kestrel listens for requests
* `dotnet build` + `dotnet run` = full execution flow


### ğŸ¯ Student Tip

> Understand **routing + controller + action + view flow**
> That is the backbone of every ASP.NET Core MVC application.


# ğŸ“Š Diagram-Based Explanation: ASP.NET Core MVC Flow

## 1ï¸âƒ£ High-Level Application Flow

```
Browser
   â”‚
   â”‚  HTTP Request
   â–¼
Kestrel Web Server
   â”‚
   â–¼
Middleware Pipeline
   â”‚
   â–¼
Routing Engine
   â”‚
   â–¼
Controller
   â”‚
   â–¼
Action Method
   â”‚
   â–¼
View (Razor .cshtml)
   â”‚
   â–¼
HTML Response
   â”‚
   â–¼
Browser
```

ğŸ‘‰ Every request follows **this same path**.


## 2ï¸âƒ£ Default Index Request Flow

When user types:

```
http://localhost:5000/
```

### Diagram

```
URL: /
  â†“
Default Route Applied
  â†“
Controller = Home
Action = Index
  â†“
HomeController.Index()
  â†“
Views/Home/Index.cshtml
```

ğŸ“Œ **Index is the default action**
ğŸ“Œ **Home is the default controller**

## 3ï¸âƒ£ Program.cs â€“ Startup Diagram

```
Program.cs
 â”œâ”€ CreateBuilder()
 â”‚    â”œâ”€ Configuration
 â”‚    â”œâ”€ Services
 â”‚    â””â”€ Environment
 â”‚
 â”œâ”€ AddServices()
 â”‚    â””â”€ AddControllersWithViews()
 â”‚
 â”œâ”€ Build()
 â”‚
 â”œâ”€ Middleware Pipeline
 â”‚    â”œâ”€ UseRouting()
 â”‚    â”œâ”€ UseAuthorization()
 â”‚    â””â”€ UseStaticFiles()
 â”‚
 â””â”€ Run()
      â””â”€ Start Kestrel Server
```

ğŸ‘‰ This file **controls the entire application lifecycle**.


## 4ï¸âƒ£ MVC Folder Structure Diagram

```
Project
 â”œâ”€ Controllers
 â”‚    â”œâ”€ HomeController.cs
 â”‚    â”œâ”€ ProductsController.cs
 â”‚    â””â”€ OrdersController.cs
 â”‚
 â”œâ”€ Views
 â”‚    â”œâ”€ Home
 â”‚    â”‚    â””â”€ Index.cshtml
 â”‚    â”‚
 â”‚    â”œâ”€ Products
 â”‚    â”‚    â””â”€ Index.cshtml
 â”‚    â”‚
 â”‚    â””â”€ Orders
 â”‚         â”œâ”€ CancelOrder.cshtml
 â”‚         â””â”€ ProcessOrder.cshtml
 â”‚
 â””â”€ wwwroot
      â”œâ”€ css
      â”œâ”€ js
      â””â”€ images
```

ğŸ“Œ Controller name â†” View folder name must match.


## 5ï¸âƒ£ Multiple Controllers (E-commerce Example)

```
Browser Requests
     â”‚
     â”œâ”€ /                â†’ HomeController â†’ Index()
     â”œâ”€ /Products        â†’ ProductsController â†’ Index()
     â”œâ”€ /Orders/Cancel   â†’ OrdersController â†’ CancelOrder()
     â””â”€ /Orders/Process  â†’ OrdersController â†’ ProcessOrder()
```

ğŸ‘‰ One application â†’ many controllers â†’ many actions


## 6ï¸âƒ£ Action Method â†’ View Mapping

```
OrdersController
 â”œâ”€ CancelOrder()
 â”‚     â†“
 â”‚  Views/Orders/CancelOrder.cshtml
 â”‚
 â”œâ”€ ProcessOrder()
 â”‚     â†“
 â”‚  Views/Orders/ProcessOrder.cshtml
 â”‚
 â””â”€ ShowOrder()
       â†“
    Views/Orders/ShowOrder.cshtml
```

ğŸ“Œ If View is missing â†’ **runtime error**


## 7ï¸âƒ£ Routing Decision Diagram

```
Incoming URL
   â”‚
   â–¼
MapControllerRoute
   â”‚
   â–¼
Extract:
  - Controller Name
  - Action Name
  - Optional ID
   â”‚
   â–¼
Invoke Action Method
```

Example:

```
/Orders/CancelOrder
â†’ Controller: Orders
â†’ Action: CancelOrder
```


## 8ï¸âƒ£ Scaffolding Visual Flow

```
Add Controller (MVC)
   â”‚
   â–¼
Scaffolding Wizard
   â”‚
   â”œâ”€ Creates Controller
   â”œâ”€ Creates Views
   â””â”€ Links Action â†” View
```

ğŸ‘‰ Saves time & avoids manual mistakes.


## 9ï¸âƒ£ Build & Run Process Diagram

```
dotnet build
   â”‚
   â–¼
C# Compilation
   â”‚
   â–¼
DLL Generated
   â”‚
   â–¼
dotnet run
   â”‚
   â–¼
Kestrel Starts
   â”‚
   â–¼
Listening on Port (e.g. 50186)
```

## ğŸ”Ÿ Stopping the Application

```
Terminal Running App
   â”‚
Ctrl + C
   â”‚
   â–¼
Kestrel Stops
   â”‚
   â–¼
Application Terminated
```


## ğŸ§  One-Line Mental Model (Very Important)

```
URL â†’ Routing â†’ Controller â†’ Action â†’ View â†’ HTML
```

If students remember **only this**, they understand MVC.


## ğŸ“ Student Learning Outcome

- âœ” Understand default Index behavior
- âœ” Understand routing visually
- âœ” Know how controllers & views connect
- âœ” See how app runs without IIS
- âœ” Gain confidence in request flow
